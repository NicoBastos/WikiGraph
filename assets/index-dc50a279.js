import{t as y,c as v,r as d,j as e,R as j,a as b}from"./vendor-b5438738.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function a(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=a(n);fetch(n.href,r)}})();const C="modulepreload",S=function(s){return"https://nicobastos.github.io/WikiGraph/"+s},g={},E=function(t,a,i){if(!a||a.length===0)return t();const n=document.getElementsByTagName("link");return Promise.all(a.map(r=>{if(r=S(r),r in g)return;g[r]=!0;const c=r.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!i)for(let f=n.length-1;f>=0;f--){const p=n[f];if(p.href===r&&(!c||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${r}"]${h}`))return;const l=document.createElement("link");if(l.rel=c?"stylesheet":C,c||(l.as="script",l.crossOrigin=""),l.href=r,document.head.appendChild(l),c)return new Promise((f,p)=>{l.addEventListener("load",f),l.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${r}`)))})})).then(()=>t()).catch(r=>{const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=r,window.dispatchEvent(c),!c.defaultPrevented)throw r})};function m(...s){return y(v(s))}const N=d.forwardRef(({className:s,type:t,...a},i)=>e.jsx("input",{type:t,className:m("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:i,...a}));N.displayName="Input";const k=({searchTerm:s,setSearchTerm:t,handleKeyDown:a})=>e.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-11/12 sm:w-96",children:e.jsx(N,{placeholder:"Search any Wikipedia article... (press enter)",value:s,onChange:i=>t(i.target.value),onKeyDown:a,className:"w-full"})}),R=()=>{const[s,t]=d.useState(""),[a,i]=d.useState(""),[n,r]=d.useState(!1),c=d.useRef(!1);d.useEffect(()=>{c.current?h(s).then(l=>{l&&i(l==null?void 0:l.extract)}).catch(l=>{console.error("Error fetching Wikipedia data: ",l)}):c.current=!0},[n]);async function h(l){if(!l)return;const p=`https://wikigraph-server-8042906eb85c.herokuapp.com/getWikiArticle?${new URLSearchParams({searchTerm:l}).toString()}`;try{return fetch(p,{method:"GET",headers:{Accept:"application/json"}}).then(u=>u.json()).then(u=>u).catch(u=>console.error("Error:",u))}catch(u){return console.error("Error fetching Wikipedia data:",u),null}}return{searchTerm:s,setSearchTerm:t,articleContent:a,handleSearchToggle:()=>{console.log(n),r(l=>!l)},searching:n,fetchWikipediaData:h,didMount:c}},w=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("rounded-lg border bg-card text-card-foreground shadow-sm",s),...t}));w.displayName="Card";const T=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("flex flex-col space-y-1.5 p-6",s),...t}));T.displayName="CardHeader";const L=d.forwardRef(({className:s,...t},a)=>e.jsx("h3",{ref:a,className:m("text-2xl font-semibold leading-none tracking-tight",s),...t}));L.displayName="CardTitle";const P=d.forwardRef(({className:s,...t},a)=>e.jsx("p",{ref:a,className:m("text-sm text-muted-foreground",s),...t}));P.displayName="CardDescription";const W=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("p-6 pt-0",s),...t}));W.displayName="CardContent";const _=d.forwardRef(({className:s,...t},a)=>e.jsx("div",{ref:a,className:m("flex items-center p-6 pt-0",s),...t}));_.displayName="CardFooter";function o({className:s,...t}){return e.jsx("div",{className:m("animate-pulse rounded-md bg-muted",s),...t})}const D=({articleContent:s,didMount:t})=>{const a=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{className:"h-4 w-3/4 m-1 mt-6"}),e.jsx(o,{className:"h-8 m-1"}),e.jsx(o,{className:"h-6 w-1/2 m-1"}),e.jsx(o,{className:"h-16 w-2/3 m-1"}),e.jsx(o,{className:"h-max w-1/2 m-1"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{className:"h-8 m-1"}),e.jsx(o,{className:"h-max w-1/2 m-1"}),e.jsx(o,{className:"h-6 w-1/2 m-1"}),e.jsx(o,{className:"h-16 w-2/3 m-1"}),e.jsx(o,{className:"h-4 w-3/4 m-1 mt-8"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{className:"h-max w-1/2 m-1"}),e.jsx(o,{className:"h-8 m-1"}),e.jsx(o,{className:"h-16 w-2/3 m-1"}),e.jsx(o,{className:"h-6 w-1/2 m-1"}),e.jsx(o,{className:"h-4 w-3/4 m-1 mt-8"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(o,{className:"h-8 m-1 mt-8"}),e.jsx(o,{className:"h-4 w-3/4 m-1 "}),e.jsx(o,{className:"h-6 w-1/2 m-1"}),e.jsx(o,{className:"h-16 w-2/3 m-1"}),e.jsx(o,{className:"h-max w-1/2 m-1"})]})]});return console.log("bool:",s||t.current),e.jsx(w,{className:"h-full dark",children:e.jsx("div",{className:"overflow-y-auto p-4 h-full",children:s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-base md:text-lg leading-relaxed mb-4 text-white",dangerouslySetInnerHTML:{__html:s}})}):e.jsx(e.Fragment,{children:a})})})},O=j.lazy(()=>E(()=>import("./GraphCanvas-e8112c43.js"),["assets/GraphCanvas-e8112c43.js","assets/vendor-b5438738.js"])),A=()=>{const{searchTerm:s,setSearchTerm:t,articleContent:a,handleSearchToggle:i,searching:n,fetchWikipediaData:r,didMount:c}=R(),h=x=>{x.key==="Enter"&&i()};return e.jsxs("main",{className:"relative h-screen ",children:[e.jsx(O,{searchTerm:s,searching:n,handleSearchToggle:i,fetchWikipediaData:r,setSearchTerm:t}),e.jsx("div",{className:"absolute bottom-0 right-0 h-1/2 w-full md:w-1/3 p-4 md:p-8",children:e.jsx(D,{searchTerm:s,articleContent:a,didMount:c})}),e.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-11/12 md:w-96",children:e.jsx(k,{searchTerm:s,setSearchTerm:t,handleKeyDown:h})})]})};b.createRoot(document.getElementById("root")).render(e.jsx(j.StrictMode,{children:e.jsx(A,{})}));
