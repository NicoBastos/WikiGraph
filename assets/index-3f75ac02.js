import{t as v,c as b,r as m,j as e,R as N,a as k}from"./vendor-b5438738.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))d(n);new MutationObserver(n=>{for(const t of n)if(t.type==="childList")for(const i of t.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&d(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const t={};return n.integrity&&(t.integrity=n.integrity),n.referrerPolicy&&(t.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?t.credentials="include":n.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function d(n){if(n.ep)return;n.ep=!0;const t=a(n);fetch(n.href,t)}})();const E="modulepreload",S=function(s){return"https://nicobastos.github.io/WikiGraph/"+s},j={},C=function(r,a,d){if(!a||a.length===0)return r();const n=document.getElementsByTagName("link");return Promise.all(a.map(t=>{if(t=S(t),t in j)return;j[t]=!0;const i=t.endsWith(".css"),f=i?'[rel="stylesheet"]':"";if(!!d)for(let o=n.length-1;o>=0;o--){const p=n[o];if(p.href===t&&(!i||p.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${t}"]${f}`))return;const h=document.createElement("link");if(h.rel=i?"stylesheet":E,i||(h.as="script",h.crossOrigin=""),h.href=t,document.head.appendChild(h),i)return new Promise((o,p)=>{h.addEventListener("load",o),h.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${t}`)))})})).then(()=>r()).catch(t=>{const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=t,window.dispatchEvent(i),!i.defaultPrevented)throw t})};function u(...s){return v(b(s))}const w=m.forwardRef(({className:s,type:r,...a},d)=>e.jsx("input",{type:r,className:u("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:d,...a}));w.displayName="Input";const R=({searchTerm:s,setSearchTerm:r,handleKeyDown:a})=>e.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-11/12 sm:w-96",children:e.jsx(w,{placeholder:"Search any Wikipedia article... (press enter)",value:s,onChange:d=>r(d.target.value),onKeyDown:a,className:"w-full"})}),L=()=>{const[s,r]=m.useState(""),[a,d]=m.useState(""),[n,t]=m.useState(!1),i=m.useRef(!1);m.useEffect(()=>{i.current?f(s).then(o=>{o&&d(o==null?void 0:o.extract)}).catch(o=>{console.error("Error fetching Wikipedia data: ",o)}):i.current=!0},[n]);async function f(o){if(!o)return;const g=`https://wikigraph-server-8042906eb85c.herokuapp.com/getWikiArticle?${new URLSearchParams({searchTerm:o}).toString()}`;try{return fetch(g,{method:"GET",headers:{Accept:"application/json"}}).then(l=>l.json()).then(l=>l).catch(l=>console.error("Error:",l))}catch(l){return console.error("Error fetching Wikipedia data:",l),null}}async function x(o){if(!o)return;const g=`https://wikigraph-server-8042906eb85c.herokuapp.com/getWikiArticle?${new URLSearchParams({searchTerm:o}).toString()}`;try{return fetch(g,{method:"GET",headers:{Accept:"application/json"}}).then(l=>l.json()).then(l=>l).catch(l=>console.error("Error:",l))}catch(l){return console.error("Error fetching Wikipedia data:",l),null}}return{searchTerm:s,setSearchTerm:r,articleContent:a,handleSearchToggle:()=>{console.log(n),t(o=>!o)},searching:n,fetchWikipediaData:f,fetchWikipediaLinks:x,didMount:i}},y=m.forwardRef(({className:s,...r},a)=>e.jsx("div",{ref:a,className:u("rounded-lg border bg-card text-card-foreground shadow-sm",s),...r}));y.displayName="Card";const T=m.forwardRef(({className:s,...r},a)=>e.jsx("div",{ref:a,className:u("flex flex-col space-y-1.5 p-6",s),...r}));T.displayName="CardHeader";const W=m.forwardRef(({className:s,...r},a)=>e.jsx("h3",{ref:a,className:u("text-2xl font-semibold leading-none tracking-tight",s),...r}));W.displayName="CardTitle";const P=m.forwardRef(({className:s,...r},a)=>e.jsx("p",{ref:a,className:u("text-sm text-muted-foreground",s),...r}));P.displayName="CardDescription";const _=m.forwardRef(({className:s,...r},a)=>e.jsx("div",{ref:a,className:u("p-6 pt-0",s),...r}));_.displayName="CardContent";const A=m.forwardRef(({className:s,...r},a)=>e.jsx("div",{ref:a,className:u("flex items-center p-6 pt-0",s),...r}));A.displayName="CardFooter";function c({className:s,...r}){return e.jsx("div",{className:u("animate-pulse rounded-md bg-muted",s),...r})}const D=({articleContent:s,didMount:r})=>{const a=e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"h-4 w-3/4 m-1 mt-6"}),e.jsx(c,{className:"h-8 m-1"}),e.jsx(c,{className:"h-6 w-1/2 m-1"}),e.jsx(c,{className:"h-16 w-2/3 m-1"}),e.jsx(c,{className:"h-max w-1/2 m-1"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"h-8 m-1"}),e.jsx(c,{className:"h-max w-1/2 m-1"}),e.jsx(c,{className:"h-6 w-1/2 m-1"}),e.jsx(c,{className:"h-16 w-2/3 m-1"}),e.jsx(c,{className:"h-4 w-3/4 m-1 mt-8"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"h-max w-1/2 m-1"}),e.jsx(c,{className:"h-8 m-1"}),e.jsx(c,{className:"h-16 w-2/3 m-1"}),e.jsx(c,{className:"h-6 w-1/2 m-1"}),e.jsx(c,{className:"h-4 w-3/4 m-1 mt-8"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(c,{className:"h-8 m-1 mt-8"}),e.jsx(c,{className:"h-4 w-3/4 m-1 "}),e.jsx(c,{className:"h-6 w-1/2 m-1"}),e.jsx(c,{className:"h-16 w-2/3 m-1"}),e.jsx(c,{className:"h-max w-1/2 m-1"})]})]});return console.log("bool:",s||r.current),e.jsx(y,{className:"h-full dark",children:e.jsx("div",{className:"overflow-y-auto p-4 h-full",children:s?e.jsx(e.Fragment,{children:e.jsx("div",{className:"text-base md:text-lg leading-relaxed mb-4 text-white",dangerouslySetInnerHTML:{__html:s}})}):e.jsx(e.Fragment,{children:a})})})},O=N.lazy(()=>C(()=>import("./GraphCanvas-4f2b0d1f.js"),["assets/GraphCanvas-4f2b0d1f.js","assets/vendor-b5438738.js"])),F=()=>{const{searchTerm:s,setSearchTerm:r,articleContent:a,handleSearchToggle:d,searching:n,fetchWikipediaData:t,didMount:i}=L(),f=x=>{x.key==="Enter"&&d()};return e.jsxs("main",{className:"relative h-screen ",children:[e.jsx(O,{searchTerm:s,searching:n,handleSearchToggle:d,fetchWikipediaData:t,setSearchTerm:r}),e.jsx("div",{className:"absolute bottom-0 right-0 h-1/2 w-full md:w-1/3 p-4 md:p-8",children:e.jsx(D,{searchTerm:s,articleContent:a,didMount:i})}),e.jsx("div",{className:"absolute top-4 left-1/2 transform -translate-x-1/2 w-11/12 md:w-96",children:e.jsx(R,{searchTerm:s,setSearchTerm:r,handleKeyDown:f})})]})};k.createRoot(document.getElementById("root")).render(e.jsx(N.StrictMode,{children:e.jsx(F,{})}));
